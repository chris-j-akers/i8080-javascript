# Tests moving data from Memory locations to Register using MOV OpCode
---
test_suite:
  enable: True
  generator_function: stc_tests.generate_stc
  description: 'STC'
  output_file_name: '/carry_bit/stc.test.js'
  header: |
    import { Computer } from '../../computer.js'
    import { i8080 } from '../../i8080.js'
    import { strict as assert } from 'assert'
  footer: |
    });
  boilerplate: |
    const c = new Computer();
    const FlagType = i8080.FlagType;

    const program = [
      0x37,          // Complement Carry
      0x76           // HALT
    ]

      {set_carry};

      c.inject_program(program);
      c.execute_program();

      assert.equal(c.cpu.flag_set(FlagType.Carry), true);
      assert.equal(c.cpu.clock, 11);

      c.reset();
    }});
  tests:

    - test:
      name: STC when Carry unset
      set_carry: False

    - test:
      name: STC when Carry set
      set_carry: true
    
  
