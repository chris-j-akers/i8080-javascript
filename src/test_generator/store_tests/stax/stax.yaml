# Tests moving data from Memory locations to Register using MOV OpCode
---
test_suite:
  enable: True
  generator_function: stax_tests.generate_stax_b
  description: 'STAX B'
  output_file_name: '/store/stax.b.js'
  header: |
    const Computer = require('../../computer');
    const i8080 = require('../../i8080');
  footer: |
    });
  boilerplate: |
    const max_mem_addr = {max_mem_addr};
    const c = new Computer();
    c.cpu.mvi_reg('A', 0xFF);
    for (let mem_addr = 0x00; mem_addr <= max_mem_addr; mem_addr++) {{

      c.cpu.load_mem_addr(mem_addr, '{msb_register}', '{lsb_register}');
      c.cpu.stax('{msb_register}');

      expect(c.bus.read(mem_addr)).toEqual(0xFF);

    }}
    }});
  tests:

    - test:
      name: Store Accumulator in address found in registers B,C
      msb_register: B
      lsb_register: C

    - test:
      name: Store Accumulator in address found in registers D,E
      msb_register: D
      lsb_register: E     
