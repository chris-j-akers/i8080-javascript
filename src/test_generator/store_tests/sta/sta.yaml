# Tests moving data from Memory locations to Register using MOV OpCode
---
test_suite:
  enable: True
  generator_function: sta_tests.generate_sta
  description: 'STA'
  output_file_name: '/store/sta.test.js'
  header: |
    import { Computer } from '../../computer.js'
    import { strict as assert } from 'assert'
  footer: |
    });
  boilerplate: |
    const max_mem_addr = {max_mem_addr};
    const c = new Computer();

    let program = [
      0x3E,          // Load into Accumulator...
      0xFF,          // ... this value
      0x32,          // STA into..
      null,          // ...addr low-byte (inserted, below)
      null,          // ...addr high-byte (inserted, below)
      0x76           // HALT
    ]
    
    for (let mem_addr = program.length; mem_addr <= max_mem_addr; mem_addr++) {{
      program[3] = mem_addr & 0xFF;
      program[4] = (mem_addr >> 8) & 0xff;

      c.LoadProgram(program);
      c.ExecuteProgram();

      assert.equal(c.Bus.ReadRAM(mem_addr), 0xFF);

      assert.equal(c.CPUState.Clock, 27);
      c.Reset();

    }}
    }});
  tests:

    - test:
      name: Store Accumulator in address provided as param
