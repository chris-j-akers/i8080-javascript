# Tests moving data from Memory locations to Register using MOV OpCode
---
test_suite:
  enable: True
  generator_function: shld_tests.generate_shld
  description: 'SHLD'
  output_file_name: '/store/shld.js'
  header: |
    const Computer = require('../../computer');
    const i8080 = require('../../i8080');
  footer: |
    });
  boilerplate: |
    const max_mem_addr = {max_mem_addr};
    const c = new Computer();

    for (let mem_addr = 0x00; mem_addr <= max_mem_addr; mem_addr++) {{
      c.cpu.mvi_reg('L', 0x71);
      c.cpu.mvi_reg('H', 0xE);


      c.cpu.shld(mem_addr);

      expect(c.bus.read(mem_addr)).toEqual(0x71);
      expect(c.bus.read(mem_addr + 1)).toEqual(0xE);

      c.reset();
    }}
    }});
  tests:

    - test:
      name: Store Accumulator in address found in registers B,C
  
